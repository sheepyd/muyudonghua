# MuYuDonghua (æš®é›¨åŠ¨ç”») v0

ä¸€ä¸ªåŸºäº FastAPI å’Œ Vue 3 å¼€å‘çš„é«˜é¢œå€¼ã€é«˜æ€§èƒ½åŠ¨æ¼«æµåª’ä½“å¹³å°ï¼Œæ·±åº¦é›†æˆ Emby å’Œ TMDBã€‚

## âœ¨ ç‰¹æ€§

- **é«˜çº§æš—é»‘/é€æ˜ UI**: åŸºäº `Slate` è‰²è°ƒä¸èµ›åšéœ“è™¹é£æ ¼è®¾è®¡ï¼Œæ”¯æŒæè‡´çš„è§†è§‰æ²‰æµ¸ä½“éªŒã€‚
- **å…¨æ–¹ä½å®‰å…¨æ€§ (Proxy Logic)**: é‡‡ç”¨åç«¯ä»£ç†æŠ€æœ¯ï¼Œ**å½»åº•éšè—** Emby åœ°å€ä¸ API Keyã€‚æ‰€æœ‰å›¾ç‰‡ä¸è§†é¢‘æµå‡é€šè¿‡åç«¯è½¬å‘ï¼Œä¿æŠ¤éšç§ã€‚
- **TMDB æ™ºèƒ½å…ƒæ•°æ®**: è‡ªåŠ¨æŠ“å–å¹¶å±•ç¤ºé«˜æ¸… Backdropã€Logo åŠæµ·æŠ¥ï¼Œå¼¥è¡¥ Emby åŸå§‹èµ„æºçš„ä¸è¶³ã€‚
- **å…¨èƒ½æ’­æ”¾å™¨**: é›†æˆ `Artplayer`ï¼Œæ”¯æŒç”»ä¸­ç”» (PiP)ã€å®æ—¶æˆªå›¾ã€å€é€Ÿæ’­æ”¾ã€å¿«æ·é”®ç­‰é«˜çº§åŠŸèƒ½ã€‚
- **å“åº”å¼å¸ƒå±€**: é€‚é…æ‰‹æœºã€å¹³æ¿ä¸ç”µè„‘ç«¯ã€‚

## ğŸ› ï¸ é¡¹ç›®ç»“æ„

- `backend/`: FastAPI å¼‚æ­¥åç«¯ã€‚
  - `main.py`: åŒ…å« API è·¯ç”±ä¸å®‰å…¨ä»£ç†é€»è¾‘ã€‚
  - `venv/`: ç‹¬ç«‹çš„ Python è™šæ‹Ÿç¯å¢ƒã€‚
  - `requirements.txt`: é¡¹ç›®æ ¸å¿ƒä¾èµ–ã€‚
- `frontend/`: Vue 3 + Vite å‰ç«¯åº”ç”¨ã€‚
  - `src/`: é‡‡ç”¨å“åº”å¼ç»„åˆå¼ API å¼€å‘ã€‚
  - `style.css`: ç»Ÿä¸€å®šä¹‰çš„é«˜çº§ UI æ ·å¼ã€‚
- `.env`: é›†ä¸­ç®¡ç†æ‰€æœ‰æ•æ„Ÿé…ç½®ã€‚
- `start_dev.sh`: è¶…å¼ºå¥çš„ä¸€é”®å¯åŠ¨/ç¯å¢ƒæ­å»ºè„šæœ¬ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†å¹¶é…ç½®

```bash
git clone https://github.com/sheepyd/muyudonghua.git
cd muyudonghua
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„å¯†é’¥ï¼š
- `EMBY_HOST`: ä½ çš„ Emby åŸŸå (å¦‚ https://tv.example.com)
- `EMBY_API_KEY`: Emby åå°ç”Ÿæˆçš„ API å¯†é’¥
- `TMDB_READ_TOKEN`: TMDB çš„ API åªè¯»ä»¤ç‰Œ (Bearer Token)

### 2. ä¸€é”®è¿è¡Œ

```bash
chmod +x start_dev.sh
./start_dev.sh
```

è„šæœ¬å°†è‡ªåŠ¨å®Œæˆï¼š**åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ -> å®‰è£…åç«¯ä¾èµ– -> å®‰è£…å‰ç«¯ä¾èµ– -> å¯åŠ¨å…¨æ ˆæœåŠ¡**ã€‚

## ğŸŒ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² (Nginx)

æ¨èä½¿ç”¨ Nginx è¿›è¡Œåå‘ä»£ç†ï¼š

1. **ç¼–è¯‘å‰ç«¯**:
   ```bash
   cd frontend && npm run build
   ```
2. **åå°è¿è¡Œåç«¯**:
   ```bash
   cd backend && nohup ./venv/bin/python main.py > backend.log 2>&1 &
   ```
3. **é…ç½® Nginx**:
   å°† `frontend/dist` è®¾ä¸ºç½‘ç«™æ ¹ç›®å½•ï¼Œå¹¶å°† `/api/` ä»£ç†è‡³ `http://127.0.0.1:8800/api/`ã€‚

## ğŸ“¦ åŒæ­¥æ›´æ–°

```bash
git add .
git commit -m "feat: description of changes"
git push
```

---
*Created with â¤ï¸ by MuYu Team*